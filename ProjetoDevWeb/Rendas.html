<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rendas</title>
    <link rel="stylesheet" href="/ProjetoDevWeb/CSS/EstiloRendas.css" />
  </head>
  <body>
    <div class="centro">
      <h1>RENDAS</h1>
      <p class="frase">
        Informe o valor do seu salário bruto que o simulador calculará o desconto no
        INSS (caso seja aplicável).<br />
        Outras rendas, como freelancers, bicos, comissão etc (caso haja).
      </p>

      <div class="option">
        <div>
          <label for="salario">Salário Bruto</label><br />
          <input type="number" id="salario" class="caixa" placeholder="R$" />
        </div>
        <div>
          <label for="outras">Outras Rendas</label><br />
          <input type="number" id="outras" class="caixa" placeholder="R$" />
        </div>
      </div>

      <button onclick="salvarRenda()">CONTINUAR</button>
    </div>
    <script>
      function calcularINSS(salario) {
        const tipo = localStorage.getItem("tipoContrato");
        if (tipo === "clt") {
          return salario * 0.075; // Simula 7.5% de INSS, por exemplo
        }
        return 0;
      }

      function salvarRenda() {
        const salarioBruto = parseFloat(document.getElementById("salario").value) || 0;
        const outras = parseFloat(document.getElementById("outras").value) || 0;
        const descontoINSS = calcularINSS(salarioBruto);
        const salarioLiquido = salarioBruto - descontoINSS;
        const totalRenda = salarioLiquido + outras;

        localStorage.setItem("salario", salarioLiquido);
        localStorage.setItem("outras", outras);
        localStorage.setItem("totalRenda", totalRenda);

        window.location.href = "/ProjetoDevWeb/Gastos.html";
      }
    </script>
  </body>